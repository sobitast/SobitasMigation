<app-breadcrumbs [page]="'Panier'"></app-breadcrumbs>

    <!--shopping cart area start -->
    <div class="cart_page_bg">
      <div class="container">
          <div class="shopping_cart_area">
              <form action="#">
                      <div class="row">
                          <div class="col-12">
                              <div class="table_desc">
                                  <div class="cart_page">
                                      <table>
                                          <thead>
                                              <tr>
                                                  <th class="product_remove">Supression</th>
                                                  <th class="product_thumb">Image</th>
                                                  <th class="product_name">Produit</th>
                                                  <th class="product-price">Prix</th>
                                                  <th class="product_quantity">Quantité</th>
                                                  <th class="product_total">Totale</th>
                                              </tr>
                                          </thead>
                                          <tbody>
                                              <tr *ngFor="let p of panier ; let position = index">
                                                 <td class="product_remove"><a (click)="supprimer(position)"><i class="fa fa-trash-o"></i></a></td>
                                                  <td class="product_thumb"><a ><img [src]="p.product.cover ? storage+p.product.cover :'assets/img/product/p1.webp'" [alt]="p.product.designation_fr"
                                                    fetchpriority="auto"></a></td>
                                                  <td class="product_name"><a  [routerLink]="['/shop' , p.product?.slug]">{{p.product?.designation_fr}}</a></td>
                                                  <td class="product-price">{{p.prix_unitaire  |number:'1.3-5'}}</td>
                                                  <td class="product_quantity order_button">
                                                    <button  (click)="inc_dec_qte('dec' , position)" [disabled]="p.quantity<=1" class="pm" >-</button>
                                                    <input min="1" max="100"  (change)="update_qte($event , position)" title="Quantity" [value]="p.quantite" type="number" style="text-align: center;">
                                                    <button  (click)="inc_dec_qte('inc' , position)" class="pm">+</button>
                                                  </td>
                                                  <td class="product_total">{{p.prix_totale  |number:'1.3-5'}}</td>


                                              </tr>



                                          </tbody>
                                      </table>
                                  </div>
                                <!--   <div class="cart_submit">
                                      <button type="submit">update cart</button>
                                  </div> -->
                              </div>
                           </div>
                       </div>
                       <!--coupon code area start-->
                      <div class="coupon_area">
                          <div class="row">
                              <div class="col-lg-6 col-md-6">
                                 <!--  <div class="coupon_code left">
                                      <h3>Coupon</h3>
                                      <div class="coupon_inner">
                                          <p>Enter your coupon code if you have one.</p>
                                          <input placeholder="Coupon code" type="text">
                                          <button type="submit">Apply coupon</button>
                                      </div>
                                  </div> -->
                              </div>
                              <div class="col-lg-6 col-md-6">
                                  <div class="coupon_code right">
                                      <h3>Total panier</h3>
                                      <div class="coupon_inner">
                                         <div class="cart_subtotal">
                                             <p>Sous-total</p>
                                             <p class="cart_amount">{{totale | number:'1.3-5'}} DT</p>
                                         </div>
                                         <div class="cart_subtotal ">
                                          <p>Expédition</p>

                                          </div>
                                         <div class="cart_subtotal ">

                                          <div>
                                            <input type="radio"  name="shipping"  [(ngModel)]="livraison" [value]="true"  (change)="test()" id="__BVID__270" style="height: unset;"><label  for="__BVID__270">Livraison à domicile: {{frais_livraison | number:'1.3-3'}} DT</label>
                                          </div>
                                        <!--   <div >
                                            <input type="radio"  name="shipping"  [(ngModel)]="livraison" [value]="false"  (change)="test()" id="__BVID__271"  style="height: unset;">
                                            <label for="__BVID__271">Point de vente {{livraison}}</label>
                                          </div> -->
                                        </div>



                                        <hr>
                                         <div class="cart_subtotal">
                                             <p>Total</p>
                                             <p class="cart_amount">{{(+totale + +frais_livraison) | number:'1.3-5'}} DT</p>
                                         </div>
                                         <div class="order_button">
                                             <button (click)="passerCommande()" [disabled]="!panier || panier.length == 0" >Passer la commande</button>
                                         </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <!--coupon code area end-->
                  </form>
          </div>
      </div>
  </div>

